<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../main/js/nav.js"></script>
    <link rel="stylesheet" href="../main/css/trade.css" />
  </head>
  <body>
    <nav id="navbar"></nav>

    <button class="tradebutton">
      <img src="../images/cropped_image (1).png" style="width: 100%" />
      make trade
    </button>

    <div class="slideshow-container">
      <!-- Cards as slides -->
      <div class="mySlides fade">
        <div class="card">
          <img src="../images/pikachu.avif" style="width: 100%" />
          <div class="container">
            <p>Type: electric</p>
            <p>Gen: 1</p>
            <p>Stats</p>
            <button class="modal-button" href="#myModal1">View stats</button>
            <button class="evolution-page" onclick="openNewPage()">
              Evolution
            </button>
            <button>Trade</button>
            <!-- The Modal -->
            <div id="myModal1" class="modal">
              <div class="modal-content">
                <div class="modal-header">
                  <span class="close">×</span>
                  <img src="../images/pikachu.avif" style="width: 100%" />
                </div>
                <div class="modal-body">
                  <p>Name: Pikachu</p>
                  <p>Gen: 1</p>
                  <p>Type: Electric</p>
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Repeat this structure for additional cards -->
      <!-- Example for another slide -->
      <div class="mySlides fade">
        <div class="card">
          <img src="../images/004.png" style="width: 100%" />
          <div class="container">
            <p>Type: fire</p>
            <p>Gen: 1</p>
            <p>Stats</p>
            <button class="modal-button" href="#myModal2">View stats</button>
            <button class="evolution-page" onclick="openNewPage()">
              Evolution
            </button>
            <button>Trade</button>
            <!-- The Modal -->
            <div id="myModal2" class="modal">
              <div class="modal-content">
                <div class="modal-header">
                  <span class="close">×</span>
                  <img src="../images/004.png" style="width: 100%" />
                </div>
                <div class="modal-body">
                  <p>Name: Charmander</p>
                  <p>Gen: 1</p>
                  <p>Type: Fire</p>
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>

    <script>
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        if (n > slides.length) {
          slideIndex = 1;
        }
        if (n < 1) {
          slideIndex = slides.length;
        }
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        slides[slideIndex - 1].style.display = "block";
      }

      // Modal functionality
      let btns = document.querySelectorAll("button.modal-button");
      let modals = document.querySelectorAll(".modal");
      let spans = document.getElementsByClassName("close");

      btns.forEach((btn) => {
        btn.onclick = function (e) {
          e.preventDefault();
          let modal = document.querySelector(e.target.getAttribute("href"));
          modal.style.display = "block";
        };
      });

      for (let i = 0; i < spans.length; i++) {
        spans[i].onclick = function () {
          for (let index in modals) {
            if (typeof modals[index].style !== "undefined")
              modals[index].style.display = "none";
          }
        };
      }

      window.onclick = function (event) {
        if (event.target.classList.contains("modal")) {
          for (let index in modals) {
            if (typeof modals[index].style !== "undefined")
              modals[index].style.display = "none";
          }
        }
      };
    </script>
    <script>
      function openNewPage() {
        window.location.href = "Evolutionchat.html";
      }
    </script>
  </body>
</html>
